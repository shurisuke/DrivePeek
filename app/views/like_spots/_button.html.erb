<%# app/views/like_spots/_button.html.erb %>
<%# locals: spot:, like_spot: nil %>

<%= turbo_frame_tag dom_id(spot, :like_button) do %>
  <% if like_spot.present? %>
    <%= button_to like_spot_path(like_spot),
                  method: :delete,
                  class: "btn btn-outline-secondary btn-sm w-100 btn-fav-icon btn-fav-icon--active",
                  "aria-label": "お気に入り解除",
                  data: { turbo_frame: dom_id(spot, :like_button) } do %>
      <i class="bi bi-heart-fill text-danger" aria-hidden="true"></i>
    <% end %>
  <% else %>
    <%= button_to like_spots_path(spot_id: spot.id),
                  method: :post,
                  class: "btn btn-outline-secondary btn-sm w-100 btn-fav-icon",
                  "aria-label": "お気に入り登録",
                  data: { turbo_frame: dom_id(spot, :like_button) } do %>
      <i class="bi bi-heart" aria-hidden="true"></i>
    <% end %>
  <% end %>
<% end %>
