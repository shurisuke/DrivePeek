<header class="header">
  <div class="header__inner">
  <!-- 左：ロゴ（ログイン時のみ＆非ログインTOPを除外） -->
    <% unless controller_name == "static_pages" && action_name == "top" %>
      <div class="logo">
        <% if current_user.present? %>
          <%= link_to authenticated_root_path do %>
            <%= image_tag "drivepeek_icon.png", width: 40, height: 40, alt: "DrivePeek", class: "logo__image" %>
            <span class="logo__text">DrivePeek</span>
          <% end %>
        <% else %>
          <%= link_to unauthenticated_root_path do %>
            <%= image_tag "drivepeek_icon.png", width: 100, height: 100, alt: "DrivePeek", class: "logo__image" %>
            <span class="logo__text">DrivePeek</span>
          <% end %>
        <% end %>
      </div>
    <% end %>

    <!-- 右：ハンバーガーメニュー -->
    <div class="hamburger hamburger-single" id="Hamburger">
      <div class="hamburger__container">
        <span class="hamburger__top"></span>
        <span class="hamburger__middle"></span>
        <span class="hamburger__bottom"></span>
      </div>
    </div>
  </div>

  <!-- 展開メニュー -->
  <div class="sp__menu">
    <div class="sp__menu__container">
      <div class="sp__menu__nav">
        <ul id="menu__hamburger__nav" class="sp__menu__ul">
          <% if current_user.present? %>
            <li><%= link_to "TOP", authenticated_root_path %></li>
            <li><%= link_to "みんなのドライブプラン", authenticated_root_path %></li>
            <li><%= link_to "ドライブプラン作成", authenticated_root_path %></li>
            <li><%= link_to "スポット検索", authenticated_root_path %></li>
            <li><%= link_to "マイドライブプラン", authenticated_root_path %></li>
            <li><%= link_to "アカウント管理", authenticated_root_path %></li>
            <li><%= link_to "ログアウト", users_sign_out_path, data: { turbo_method: :delete, turbo_confirm: "ログアウトしますか？" }, id: "logout-link" %></li>
          <% else %>
            <li><%= link_to "TOP", unauthenticated_root_path %></li>
            <li><%= link_to "新規登録", new_user_registration_path %></li>
            <li><%= link_to "ログイン", new_user_session_path %></li>
            <li><%= link_to "みんなのドライブプラン", unauthenticated_root_path %></li>
            <li><%= link_to "DrivePeekの使い方", unauthenticated_root_path %></li>
          <% end %>
        </ul>
      </div>
    </div>
  </div>
</header>