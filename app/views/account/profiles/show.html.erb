<div class="mypage-container">
  <h2 class="mypage-title">設定</h2>

  <div class="mypage-card">
    <h3>アカウント情報</h3>
    <form class="mypage-form">
      <div class="mb-3 row">
        <span class="col-sm-4 form-label">ユーザー名</span>
        <span class="col-sm-8 mypage-data"><%= current_user.name %></span>
      </div>

      <div class="mb-3 row">
        <span class="col-sm-4 form-label">登録メールアドレス</span>
        <span class="col-sm-8 mypage-data"><%= current_user.email %></span>
      </div>

      <%= form_with model: current_user, url: account_profile_path, method: :patch, class: "mb-1 row" do |f| %>
        <label class="col-sm-4 col-form-label form-label">公開・非公開設定</label>
        <div class="col-sm-8">
          <%= f.select :status, [["公開", "active"], ["非公開", "hidden"]],
                       {}, class: "form-select", style: "max-width: 120px;",
                       onchange: "this.form.requestSubmit()" %>
        </div>
      <% end %>
      <p class="mypage-note">※ 出発場所・帰宅場所・ユーザー名・メモは公開されません。</p>
    </form>
  </div>

  <div class="mypage-card">
    <h3>設定</h3>
    <div class="mypage-buttons">
      <%= link_to 'ユーザー名を変更', edit_user_registration_path, class: 'btn-teal' %>
      <%= link_to '登録メールアドレスを変更', account_profile_path, class: 'btn-teal' %>
      <%= link_to 'パスワードの変更', account_profile_path, class: 'btn-teal' %>
    </div>
  </div>

  <%= link_to users_sign_out_path, class: 'btn-logout' do %>
    <i class="fas fa-right-from-bracket"></i> ログアウト
  <% end %>
</div>