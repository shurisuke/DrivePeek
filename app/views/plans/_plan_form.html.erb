<% content_for :body_class, "no-footer" %>

<div class="main-content plan-form">
  <!-- 地図 -->
  <div id="map" class="map"></div>

  <!-- 🔍 検索バー（地図上部に重ねる用） -->
  <div class="map-search-box">
    <input
      id="places-search-box"
      type="text"
      placeholder="スポット名や施設名で検索"
      class="form-control"
    >
  </div>

  <!-- 左ナビバー -->
  <aside class="planbar">
    <div class="plan-tab-nav">
      <button class="tab-btn tab-community" data-tab="community">みんなのプラン</button>
      <button class="tab-btn active" data-tab="plan">プラン</button>
      <button class="tab-btn" data-tab="ai">AI提案</button>
    </div>

    <!-- 各タブの中身 -->
    <div class="planbar__content">
      <div class="tab-content tab-community">
        <%= render "plans/form_components/community_block" %>
      </div>
      <div class="tab-content tab-plan active">
        <%= render "plans/form_components/plan_block", plan: plan %>
      </div>
      <div class="tab-content tab-ai">
        <%= render "plans/form_components/ai_suggestion_block" %>
      </div>
    </div>
  </aside>

  <!-- プラン保存ボタン -->
  <div class="plan-save">
    <%= button_to "プランを保存", plans_path, method: :post, class: "btn btn-save" %>
  </div>

  <!-- 右下: プラン情報 -->
  <div class="plan-info">
    <p>走行距離: 120km</p>
    <p>EC料金: ¥3,200</p>
    <p>移動時間: 2時間30分</p>
  </div>

  <!-- 右ズームボタン -->
  <div class="map-controls">
    <button class="zoom-btn in">＋</button>
    <button class="zoom-btn out">−</button>
  </div>
</div>